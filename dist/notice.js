!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NoticeJs=t():e.NoticeJs=t()}(this,()=>(()=>{"use strict";var e={d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>r});let o="noticejs-modal",s={title:"",text:"",type:"success",position:"topRight",newestOnTop:!1,timeout:30,progressBar:!0,closeWith:["button"],animation:null,modal:!1,width:320,scroll:{maxHeightContent:300,showOnHover:!0},rtl:!1,callbacks:{beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]}},n=s;function i(e,t){e.callbacks.hasOwnProperty(t)&&e.callbacks[t].forEach(t=>{"function"==typeof t&&t.apply(e)})}const l=e=>{i(n,"onClose"),null!==n.animation&&null!==n.animation.close&&(e.className+=" "+n.animation.close),setTimeout(()=>{e.remove()},200),!0===n.modal&&document.querySelectorAll("[noticejs-modal='true']").length>=1&&(document.querySelector(".noticejs-modal").className+=" noticejs-modal-close",setTimeout(()=>{document.querySelector(".noticejs-modal").remove()},500));let t="."+e.closest(".noticejs").className.replace("noticejs","").trim();setTimeout(()=>{document.querySelectorAll(t+" .item").length<=0&&document.querySelector(t)&&document.querySelector(t).remove()},500)};let c=s;class a{createContainer(){let e="noticejs-"+c.position,t=document.createElement("div");return t.classList.add("noticejs"),t.classList.add(e),t}createHeader(){let e;if(c.title&&""!==c.title&&(e=document.createElement("div"),e.setAttribute("class","noticejs-heading"),e.textContent=c.title),c.closeWith.includes("button")){let t=document.createElement("div");t.setAttribute("class","close"),t.innerHTML="&times;",e?e.appendChild(t):e=t}return e}createBody(){let e=document.createElement("div");e.setAttribute("class","noticejs-body");let t=document.createElement("div");return t.setAttribute("class","noticejs-content"),t.innerHTML=c.text,e.appendChild(t),null!==c.scroll&&""!==c.scroll.maxHeight&&(e.style.overflowY="auto",e.style.maxHeight=c.scroll.maxHeight+"px",!0===c.scroll.showOnHover&&(e.style.visibility="hidden")),e}createProgressBar(){let e=document.createElement("div");e.setAttribute("class","noticejs-progressbar");let t=document.createElement("div");if(t.setAttribute("class","noticejs-bar"),e.appendChild(t),!0===c.progressBar&&"boolean"!=typeof c.timeout&&!1!==c.timeout){let o=100,s=setInterval(n,c.timeout);function n(){if(o<=0){clearInterval(s);let t=e.closest("div.item");if(null!==c.animation&&null!==c.animation.close){t.className=t.className.replace(new RegExp("(?:^|\\s)"+c.animation.open+"(?:\\s|$)")," "),t.className+=" "+c.animation.close;let e=parseInt(c.timeout)+500;setTimeout(()=>{l(t)},e)}else l(t)}else o--,t.style.width=o+"%"}}return e}}class r{constructor(e={}){return this.options=Object.assign(s,e),this.component=new a,this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this}show(){let e,t,s,c=this.component.createContainer();return null===document.querySelector(".noticejs-"+this.options.position)&&document.body.appendChild(c),e=this.component.createHeader(this.options.title,this.options.closeWith),t=this.component.createBody(this.options.text),!0===this.options.progressBar&&(s=this.component.createProgressBar()),((e,t,s)=>{let c=".noticejs-"+n.position,a=document.createElement("div");var r;return a.classList.add("item"),a.classList.add(n.type),!0===n.rtl&&a.classList.add("noticejs-rtl"),""!==n.width&&Number.isInteger(n.width)&&(a.style.width=n.width+"px"),e&&""!==e&&a.appendChild(e),a.appendChild(t),s&&""!==s&&a.appendChild(s),["top","bottom"].includes(n.position)&&(document.querySelector(c).innerHTML=""),null!==n.animation&&null!==n.animation.open&&(a.className+=" "+n.animation.open),!0===n.modal&&(a.setAttribute("noticejs-modal","true"),(()=>{if(document.getElementsByClassName(o).length<=0){let e=document.createElement("div");e.classList.add(o),e.classList.add("noticejs-modal-open"),document.body.appendChild(e),setTimeout(()=>{e.className=o},200)}})()),r=a,n.closeWith,n.closeWith.includes("button")&&r.querySelector(".close").addEventListener("click",function(){l(r)}),n.closeWith.includes("click")?(r.style.cursor="pointer",r.addEventListener("click",function(e){"close"!==e.target.className&&(i(n,"onClick"),l(r))})):r.addEventListener("click",function(e){"close"!==e.target.className&&i(n,"onClick")}),r.addEventListener("mouseover",function(){i(n,"onHover")}),i(n,"beforeShow"),i(n,"onShow"),!0===n.newestOnTop?document.querySelector(c).insertAdjacentElement("afterbegin",a):document.querySelector(c).appendChild(a),i(n,"afterShow"),a})(e,t,s)}on(e,t=()=>{}){return"function"==typeof t&&this.options.callbacks.hasOwnProperty(e)&&this.options.callbacks[e].push(t),this}static overrideDefaults(e){return this.options=Object.assign(s,e),this}}return t.default})());